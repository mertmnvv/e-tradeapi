{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Container,Grid,Card,CardMedia,Typography,Button,Box,CircularProgress,Alert,TextField,Breadcrumbs,Link,Paper,Divider}from'@mui/material';import{Link as RouterLink}from'react-router-dom';import{ShoppingCart,ArrowBack}from'@mui/icons-material';import{fetchProduct}from'../../store/slices/productSlice';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetailsPage=()=>{const{id}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const[quantity,setQuantity]=useState(1);const{selectedProduct:product,loading,error}=useSelector(state=>state.products);useEffect(()=>{if(id){dispatch(fetchProduct(Number(id)));}},[dispatch,id]);const handleQuantityChange=event=>{const value=parseInt(event.target.value);if(value>0&&(!product||value<=product.stock)){setQuantity(value);}};const handleAddToCart=()=>{if(product){// Sepete ekleme işlemi burada yapılacak\nconsole.log(`${quantity} adet ${product.name} sepete eklendi`);}};if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:4},children:error});}if(!product){return/*#__PURE__*/_jsx(Alert,{severity:\"warning\",sx:{mt:4},children:\"\\xDCr\\xFCn bulunamad\\u0131\"});}return/*#__PURE__*/_jsxs(Container,{sx:{py:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ArrowBack,{}),onClick:()=>navigate(-1),sx:{mb:2},children:\"Geri D\\xF6n\"}),/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",children:[/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/\",color:\"inherit\",children:\"Ana Sayfa\"}),/*#__PURE__*/_jsx(Link,{component:RouterLink,to:`/categories/${product.categoryId}`,color:\"inherit\",children:product.categoryName}),/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",children:product.name})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:product.imageUrl,alt:product.name,sx:{width:'100%',height:'auto',minHeight:400}})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:product.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",paragraph:true,children:product.description}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"primary\",gutterBottom:true,children:product.discountedPrice?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{component:\"span\",sx:{textDecoration:'line-through',color:'text.secondary',mr:2},children:[product.price.toFixed(2),\" TL\"]}),product.discountedPrice.toFixed(2),\" TL\"]}):`${product.price.toFixed(2)} TL`}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:product.stock>0?'success.main':'error.main',gutterBottom:true,children:product.stock>0?`Stokta ${product.stock} adet var`:'Stokta yok'})]}),product.stock>0&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,alignItems:'center'},children:[/*#__PURE__*/_jsx(TextField,{type:\"number\",label:\"Adet\",value:quantity,onChange:handleQuantityChange,inputProps:{min:1,max:product.stock},sx:{width:100}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(ShoppingCart,{}),onClick:handleAddToCart,disabled:quantity<1,sx:{flex:1},children:\"Sepete Ekle\"})]})]})})]})]});};export default ProductDetailsPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","useDispatch","useSelector","Container","Grid","Card","CardMedia","Typography","Button","Box","CircularProgress","Alert","TextField","Breadcrumbs","Link","Paper","Divider","RouterLink","ShoppingCart","ArrowBack","fetchProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetailsPage","id","navigate","dispatch","quantity","setQuantity","selectedProduct","product","loading","error","state","products","Number","handleQuantityChange","event","value","parseInt","target","stock","handleAddToCart","console","log","name","sx","display","justifyContent","mt","children","severity","py","mb","startIcon","onClick","component","to","color","categoryId","categoryName","container","spacing","item","xs","md","image","imageUrl","alt","width","height","minHeight","elevation","p","variant","gutterBottom","paragraph","description","my","discountedPrice","textDecoration","mr","price","toFixed","gap","alignItems","type","label","onChange","inputProps","min","max","disabled","flex"],"sources":["/home/mertmnv/Masaüstü/Projeler/api/client/src/pages/shop/ProductDetailsPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Container,\n  Grid,\n  Card,\n  CardMedia,\n  Typography,\n  Button,\n  Box,\n  CircularProgress,\n  Alert,\n  TextField,\n  Breadcrumbs,\n  Link,\n  Paper,\n  Divider,\n} from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { ShoppingCart, ArrowBack } from '@mui/icons-material';\nimport { RootState, AppDispatch } from '../../store';\nimport { fetchProduct } from '../../store/slices/productSlice';\n\nconst ProductDetailsPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const dispatch = useDispatch<AppDispatch>();\n  const [quantity, setQuantity] = useState(1);\n\n  const { selectedProduct: product, loading, error } = useSelector(\n    (state: RootState) => state.products\n  );\n\n  useEffect(() => {\n    if (id) {\n      dispatch(fetchProduct(Number(id)));\n    }\n  }, [dispatch, id]);\n\n  const handleQuantityChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = parseInt(event.target.value);\n    if (value > 0 && (!product || value <= product.stock)) {\n      setQuantity(value);\n    }\n  };\n\n  const handleAddToCart = () => {\n    if (product) {\n      // Sepete ekleme işlemi burada yapılacak\n      console.log(`${quantity} adet ${product.name} sepete eklendi`);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ mt: 4 }}>\n        {error}\n      </Alert>\n    );\n  }\n\n  if (!product) {\n    return (\n      <Alert severity=\"warning\" sx={{ mt: 4 }}>\n        Ürün bulunamadı\n      </Alert>\n    );\n  }\n\n  return (\n    <Container sx={{ py: 4 }}>\n      <Box sx={{ mb: 4 }}>\n        <Button\n          startIcon={<ArrowBack />}\n          onClick={() => navigate(-1)}\n          sx={{ mb: 2 }}\n        >\n          Geri Dön\n        </Button>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link component={RouterLink} to=\"/\" color=\"inherit\">\n            Ana Sayfa\n          </Link>\n          <Link\n            component={RouterLink}\n            to={`/categories/${product.categoryId}`}\n            color=\"inherit\"\n          >\n            {product.categoryName}\n          </Link>\n          <Typography color=\"text.primary\">{product.name}</Typography>\n        </Breadcrumbs>\n      </Box>\n\n      <Grid container spacing={4}>\n        <Grid item xs={12} md={6}>\n          <Card>\n            <CardMedia\n              component=\"img\"\n              image={product.imageUrl}\n              alt={product.name}\n              sx={{ width: '100%', height: 'auto', minHeight: 400 }}\n            />\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <Paper elevation={3} sx={{ p: 3 }}>\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n              {product.name}\n            </Typography>\n            \n            <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n              {product.description}\n            </Typography>\n\n            <Divider sx={{ my: 2 }} />\n\n            <Box sx={{ mb: 3 }}>\n              <Typography variant=\"h5\" color=\"primary\" gutterBottom>\n                {product.discountedPrice ? (\n                  <>\n                    <Typography\n                      component=\"span\"\n                      sx={{\n                        textDecoration: 'line-through',\n                        color: 'text.secondary',\n                        mr: 2,\n                      }}\n                    >\n                      {product.price.toFixed(2)} TL\n                    </Typography>\n                    {product.discountedPrice.toFixed(2)} TL\n                  </>\n                ) : (\n                  `${product.price.toFixed(2)} TL`\n                )}\n              </Typography>\n\n              <Typography\n                variant=\"body2\"\n                color={product.stock > 0 ? 'success.main' : 'error.main'}\n                gutterBottom\n              >\n                {product.stock > 0\n                  ? `Stokta ${product.stock} adet var`\n                  : 'Stokta yok'}\n              </Typography>\n            </Box>\n\n            {product.stock > 0 && (\n              <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\n                <TextField\n                  type=\"number\"\n                  label=\"Adet\"\n                  value={quantity}\n                  onChange={handleQuantityChange}\n                  inputProps={{ min: 1, max: product.stock }}\n                  sx={{ width: 100 }}\n                />\n                <Button\n                  variant=\"contained\"\n                  startIcon={<ShoppingCart />}\n                  onClick={handleAddToCart}\n                  disabled={quantity < 1}\n                  sx={{ flex: 1 }}\n                >\n                  Sepete Ekle\n                </Button>\n              </Box>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default ProductDetailsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}